set mouse=a 
set tabstop=4 
set shiftwidth=4
set softtabstop=4 
set expandtab
set autoindent
set smartindent
packadd chezmoi.vim
syntax on
" Enable or disable plugins
map <leader>at :ALEToggle<CR>
map <leader>nt :NERDTree<CR>
map <leader>ex :exit<CR>
" Cycle ale between ALE bug lines
nmap <silent> <C-k> <Plug>(ale_previous_wrap)
nmap <silent> <C-j> <Plug>(ale_next_wrap)
" Toggle the location list with Ctrl+L
nnoremap <silent> <C-l> :if getloclist(0, {'winid':0}).winid != 0 \| lclose \| else \| lwindow \| endif<CR>
" Toggle paste mode (disables auto-indent to maintain spaces)
set pastetoggle=<F3>
nnoremap <leader>p :set paste!<CR>
set clipboard^=unnamed,unnamedplus
" OSC 52 clipboard support (works over SSH/tmux when DISPLAY unavailable)
if empty($DISPLAY) && (exists('$TMUX') || exists('$SSH_TTY'))
    let g:clipboard = {
          \   'name': 'OSC 52',
          \   'copy': {
          \      '+': {lines, regtype -> chansend(v:stderr, printf("\033]52;c;%s\007", system('base64 | tr -d "\n"', join(lines, "\n"))))},
          \      '*': {lines, regtype -> chansend(v:stderr, printf("\033]52;c;%s\007", system('base64 | tr -d "\n"', join(lines, "\n"))))},
          \    },
          \   'paste': {'+': [], '*': []},
          \ }
endif

{{- if (and (ne .chezmoi.osRelease.id "arch") (ne .chezmoi.osRelease.id "endeavouros")) }}
source ~/.vim/plugins/ale.vim
{{ end -}}
